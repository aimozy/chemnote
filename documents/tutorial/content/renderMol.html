<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Drawing Molecule &mdash; Kekule Tutorial 2023.01 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction to Widget" href="widgetIntro.html" />
    <link rel="prev" title="Molecule Comparison and Searching" href="molCompareAndSearch.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Kekule Tutorial
          </a>
              <div class="version">
                2023.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="objSys.html">Object and Class System of Kekule.js</a></li>
<li class="toctree-l1"><a class="reference internal" href="atomAndBond.html">Atom and Bond</a></li>
<li class="toctree-l1"><a class="reference internal" href="molCreation.html">Creating Molecule</a></li>
<li class="toctree-l1"><a class="reference internal" href="molIO.html">Loading and Saving Molecule</a></li>
<li class="toctree-l1"><a class="reference internal" href="getMolInfo.html">Get Molecule Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="molCompareAndSearch.html">Molecule Comparison and Searching</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Drawing Molecule</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background-introduction">Background Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drawing-by-renderer">Drawing by Renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drawing-by-painter">Drawing by Painter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="widgetIntro.html">Introduction to Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="chemViewer.html">Chem Viewer Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="composer.html">Composer Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="spectra.html">Spectra in Kekule.js</a></li>
<li class="toctree-l1"><a class="reference internal" href="webComponent.html">Web Component Wrapper of Widgets</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kekule Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Drawing Molecule</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="drawing-molecule">
<h1>Drawing Molecule<a class="headerlink" href="#drawing-molecule" title="Permalink to this heading"></a></h1>
<p>The ability to display intuitive image of molecule is one of the most important
features of chemoinformatics-related programs. However, drawing graphics on HTML
page is more complex than one’s first sense.</p>
<section id="background-introduction">
<h2>Background Introduction<a class="headerlink" href="#background-introduction" title="Permalink to this heading"></a></h2>
<p>In the history of web evolution, there emerges several technologies to draw 2D graphic.
Firstly proprietary <a class="reference external" href="https://en.wikipedia.org/wiki/Vector_Markup_Language">VML</a> by
Microsoft Internet Explorer, then <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/SVG">SVG</a>
proposed by W3C, at last the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a>.
Different technologies requires different drawing context, normal
HTML element (like <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code>) for <strong>VML</strong>, <code class="docutils literal notranslate"><span class="pre">&lt;svg&gt;</span></code> element for <strong>SVG</strong> and <code class="docutils literal notranslate"><span class="pre">&lt;canvas&gt;</span></code>
for <strong>Canvas</strong>. Most modern web browsers supports <strong>Canvas</strong> well but there still
exists legacy browsers in market. For instance, default web browser before Android 2.1
supports <strong>SVG</strong> but does not support <strong>Canvas</strong>; MS IE does not supported <strong>SVG</strong> and
<strong>Canvas</strong> until version 9. For 3D drawing in web, the preferred technology is <strong>WebGL</strong>
but legacy browsers have poor supports on it too. So web developer has to facing different
graphics technologies and different drawing context in different environment.</p>
<p>Instead of calling to those technologies directly, bridge pattern is used in Kekule.js
to achieve platform independency as shown in next figure. Concrete drawing work (e.g., drawing
line, drawing text) is assigned to to a specified <em>drawing bridge</em> which can be created based on
current environment. That approach helps developer to avoid the difference of
VML, SVG and Canvas and to concentrate on one set of code runs in different platform.</p>
<figure class="align-center" id="id4">
<img alt="../_images/renderSystemUml.png" src="../_images/renderSystemUml.png" />
<figcaption>
<p><span class="caption-text">&lt; Simplified UML diagram of rendering system &gt;</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To draw a molecule on screen, a special <em>renderer</em> class will be used. However, besides
molecule, there often to be many other types of objects in a chemoinformatics application
(e.g., text, formula, reaction arrow) and they requires different renderers. So factory
method pattern is applied here. Rather than calling a <em>renderer</em> class directly, you should
query the <em>renderer manager</em> to return a preferred class for molecule (or other types of object).</p>
<p>After those background introduction, now let us implement those knowledge in code.</p>
</section>
<section id="drawing-by-renderer">
<h2>Drawing by Renderer<a class="headerlink" href="#drawing-by-renderer" title="Permalink to this heading"></a></h2>
<p>Before drawing, do not forget to include two additional JavaScript libraries in HTML
page. Raphael.js for 2D drawing (unless your target enviroment all supports <strong>Canvas</strong>)
and Three.js for 3D drawing as mention in the <a class="reference internal" href="installation.html#libsforrendering"><span class="std std-ref">Installation</span></a> part
of this tutorial.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;raphael.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;Three.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;kekule.js?module=render&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The following code snippet can be used to draw a molecule. <a class="footnote-reference brackets" href="#example" id="id1">1</a> It can be divided into several steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Line 2, we check the render type, decide which form, 2D or 3D graphics should be made.</p></li>
<li><p>Line 5-7, old content in parent HTML element is cleared.
We are preparing to draw inside it later.</p></li>
<li><p>Line 10-12, a suitable <em>draw bridge</em> is created.</p></li>
<li><p>Line 15-16, a suitable <em>draw context</em> is created inside parent HTML element.</p></li>
<li><p>Line 18-23, a <em>renderer</em> class for molecule is found.</p></li>
<li><p>Line 24, concrete <em>renderer</em> object is created, bind with molecule and draw bridge.</p></li>
<li><p>Line 26-40, prepare options for drawing.</p></li>
<li><p>Line 43, at last, draw the molecule to <em>context</em> by <em>renderer</em>.</p></li>
</ol>
</div></blockquote>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kd">var</span><span class="w"> </span><span class="nx">renderType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">RendererType</span><span class="p">.</span><span class="nx">R2D</span><span class="c1">//R3D  // do 2D or 3D drawing</span><span class="w"></span>
<span class="linenos"> 2</span><span class="kd">var</span><span class="w"> </span><span class="nx">is3D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">renderType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">RendererType</span><span class="p">.</span><span class="nx">R3D</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1">// parent HTML element, we will draw inside it</span><span class="w"></span>
<span class="linenos"> 5</span><span class="kd">var</span><span class="w"> </span><span class="nx">parentElem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 6</span><span class="c1">// clear parent elem</span><span class="w"></span>
<span class="linenos"> 7</span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">DomUtils</span><span class="p">.</span><span class="nx">clearChildContent</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1">// Get suitable draw bridge for 2D or 3D drawing</span><span class="w"></span>
<span class="linenos">10</span><span class="kd">var</span><span class="w"> </span><span class="nx">drawBridgeManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">is3D</span><span class="o">?</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">DrawBridge3DMananger</span><span class="o">:</span><span class="w"></span>
<span class="linenos">11</span><span class="w">  </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">DrawBridge2DMananger</span><span class="p">;</span><span class="w"></span>
<span class="linenos">12</span><span class="kd">var</span><span class="w"> </span><span class="nx">drawBridge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">drawBridgeManager</span><span class="p">.</span><span class="nx">getPreferredBridgeInstance</span><span class="p">();</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1">// then create render context by drawBridge first</span><span class="w"></span>
<span class="linenos">15</span><span class="kd">var</span><span class="w"> </span><span class="nx">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">HtmlElementUtils</span><span class="p">.</span><span class="nx">getElemOffsetDimension</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">);</span><span class="w"> </span><span class="c1">// get width/height of parent element</span><span class="w"></span>
<span class="linenos">16</span><span class="kd">var</span><span class="w"> </span><span class="nx">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">drawBridge</span><span class="p">.</span><span class="nx">createContext</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">,</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span><span class="w">  </span><span class="c1">// create context fulfill parent element</span><span class="w"></span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="c1">// then create suitable renderer to render molecule object</span><span class="w"></span>
<span class="linenos">19</span><span class="kd">var</span><span class="w"> </span><span class="nx">rendererClass</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">is3D</span><span class="p">)</span><span class="w"></span>
<span class="linenos">21</span><span class="w">  </span><span class="nx">rendererClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">get3DRendererClass</span><span class="p">(</span><span class="nx">mol</span><span class="p">);</span><span class="w"></span>
<span class="linenos">22</span><span class="k">else</span><span class="w"></span>
<span class="linenos">23</span><span class="w">  </span><span class="nx">rendererClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">get2DRendererClass</span><span class="p">(</span><span class="nx">mol</span><span class="p">);</span><span class="w"></span>
<span class="linenos">24</span><span class="kd">var</span><span class="w"> </span><span class="nx">renderer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">rendererClass</span><span class="p">(</span><span class="nx">mol</span><span class="p">,</span><span class="w"> </span><span class="nx">drawBridge</span><span class="p">);</span><span class="w">  </span><span class="c1">// create concrete renderer object and bind it with mol and draw bridge</span><span class="w"></span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="cm">/*</span>
<span class="linenos">27</span><span class="cm">prepare render options, options is a something like</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="cm">var options = {</span>
<span class="linenos">30</span><span class="cm">  atomColor: &#39;#000000&#39;,</span>
<span class="linenos">31</span><span class="cm">  bondColor: &#39;#000000&#39;,</span>
<span class="linenos">32</span><span class="cm">  defBondLength: 30</span>
<span class="linenos">33</span><span class="cm">  ...</span>
<span class="linenos">34</span><span class="cm">};</span>
<span class="linenos">35</span><span class="cm">it is quite complex, so we use some magic here, generate the option object by default configuration of Kekule.js.</span>
<span class="linenos">36</span><span class="cm">*/</span><span class="w"></span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="kd">var</span><span class="w"> </span><span class="nx">configObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">is3D</span><span class="o">?</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">Render3DConfigs</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">()</span><span class="o">:</span><span class="w"></span>
<span class="linenos">39</span><span class="w">  </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">Render2DConfigs</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">();</span><span class="w"></span>
<span class="linenos">40</span><span class="kd">var</span><span class="w"> </span><span class="nx">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">RenderOptionUtils</span><span class="p">.</span><span class="nx">convertConfigsToPlainHash</span><span class="p">(</span><span class="nx">configObj</span><span class="p">);</span><span class="w"></span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="c1">// at last, draw the molecule to the center of context</span><span class="w"></span>
<span class="linenos">43</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">},</span><span class="w"> </span><span class="nx">options</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>For example, if the <code class="docutils literal notranslate"><span class="pre">mol</span></code> is loaded with porphyrin data and <code class="docutils literal notranslate"><span class="pre">renderType</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">Kekule.Render.RendererType.R2D</span></code>, the following graphic can be drawn to screen:</p>
<img alt="../_images/porphyrin.png" src="../_images/porphyrin.png" />
<p>Of course, the codes above is quite complex (the complexity is a cost of
extensibility and platform independency), developer have to create <em>draw bridge</em>, <em>context</em>
and <em>renderer</em> one by one manually. To simplify that process, a special <em>painter</em> class
is introduced in the toolkit.</p>
</section>
<section id="drawing-by-painter">
<h2>Drawing by Painter<a class="headerlink" href="#drawing-by-painter" title="Permalink to this heading"></a></h2>
<p>The <em>painter</em> is a special class which can create suitable <em>bridge</em>, <em>context</em> and <em>renderer</em>
for us automatically. The following code snippet is used to draw molecule with painter:<a class="footnote-reference brackets" href="#example" id="id2">1</a></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">renderType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">RendererType</span><span class="p">.</span><span class="nx">R2D</span><span class="c1">//R3D  // do 2D or 3D drawing</span><span class="w"></span>

<span class="c1">// parent element, we will draw inside it</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">parentElem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">);</span><span class="w"></span>
<span class="c1">// clear parent elem</span><span class="w"></span>
<span class="nx">Kekule</span><span class="p">.</span><span class="nx">DomUtils</span><span class="p">.</span><span class="nx">clearChildContent</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">);</span><span class="w"></span>

<span class="c1">// create painter, bind with molecule</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">painter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">ChemObjPainter</span><span class="p">(</span><span class="nx">renderType</span><span class="p">,</span><span class="w"> </span><span class="nx">mol</span><span class="p">);</span><span class="w"></span>

<span class="c1">// create context inside parentElem</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">HtmlElementUtils</span><span class="p">.</span><span class="nx">getElemOffsetDimension</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">);</span><span class="w"> </span><span class="c1">// get width/height of parent element</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">painter</span><span class="p">.</span><span class="nx">createContext</span><span class="p">(</span><span class="nx">parentElem</span><span class="p">,</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span><span class="w"> </span><span class="c1">// create context fulfill parent element</span><span class="w"></span>

<span class="c1">// at last, draw the molecule at the center of context</span><span class="w"></span>
<span class="nx">painter</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">});</span><span class="w"></span>
</pre></div>
</div>
<p>Actually, molecule and other types of objects can all be drawn to HTML page in such a way.
For instance, the following code draws an balance arrow:<a class="footnote-reference brackets" href="#example" id="id3">1</a></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create arrow glyph with initial parameters</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">glyph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Glyph</span><span class="p">.</span><span class="nx">StraightLine</span><span class="p">(</span><span class="s1">&#39;glyph1&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;startArrowType&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Glyph</span><span class="p">.</span><span class="nx">ArrowType</span><span class="p">.</span><span class="nx">OPEN</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;startArrowSide&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Glyph</span><span class="p">.</span><span class="nx">ArrowSide</span><span class="p">.</span><span class="nx">REVERSED</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;startArrowWidth&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;startArrowLength&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;endArrowType&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Glyph</span><span class="p">.</span><span class="nx">ArrowType</span><span class="p">.</span><span class="nx">OPEN</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;endArrowSide&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Glyph</span><span class="p">.</span><span class="nx">ArrowSide</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;endArrowWidth&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;endArrowLength&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;lineLength&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;lineGap&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;lineCount&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="c1">// create new painter, bind with glyph</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="nx">painter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">ChemObjPainter</span><span class="p">(</span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Render</span><span class="p">.</span><span class="nx">RendererType</span><span class="p">.</span><span class="nx">R2D</span><span class="p">,</span><span class="w"> </span><span class="nx">glyph</span><span class="p">);</span><span class="w"></span>
<span class="c1">// draw the glyph at the center of context we previous created</span><span class="w"></span>
<span class="nx">painter</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">dim</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">});</span><span class="w"></span>
</pre></div>
</div>
<p>The result:</p>
<img alt="../_images/balanceArrow.png" src="../_images/balanceArrow.png" />
<p>It is obvious that two code snippets are much more shorter than the one by using
<em>renderer</em> directly. However, there do exists a even simpler method to display
chemoinformatics objects: using <strong>widget</strong>.</p>
<dl class="footnote brackets">
<dt class="label" id="example"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>,<a href="#id3">3</a>)</span></dt>
<dd><p>Example of this chapter can be found and run at <a class="reference external" href="../examples/renderMol.html">here</a>.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="molCompareAndSearch.html" class="btn btn-neutral float-left" title="Molecule Comparison and Searching" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="widgetIntro.html" class="btn btn-neutral float-right" title="Introduction to Widget" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Partridge Jiang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>